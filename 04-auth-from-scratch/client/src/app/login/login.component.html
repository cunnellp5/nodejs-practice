<div class="text-center spinner" *ngIf="loggingIn">
    <img src="../../assets/pacman.svg" alt="loading...">
</div>
<form
    *ngIf="!loggingIn"
    (ngSubmit)="login($event);"
    [formGroup]="loginForm"
>
    <div *ngIf="errorMsg" class="alert alert-danger" role="alert">
        {{ errorMsg }}
    </div>
    <div class="form-group">
        <label for="username">Username</label>
        <input 
            type="username" 
            class="form-control" 
            id="username"
            aria-describedby="usernameHelp" 
            placeholder="Enter username"
            required
            formControlName="username"
        >
        <small 
            id="usernameHelp" 
            class="form-text text-muted">
            Enter username to login.
        </small>

        <div *ngIf="loginForm?.controls['username']?.errors && !loginForm?.controls['username']?.pristine" class="alert alert-danger" role="alert">
            Username is invalid.
        </div>
    </div>
    <div class="form-group">
        <label for="password">Password</label>
        <input 
            type="password" 
            class="form-control" 
            id="password"
            aria-describedby="passwordHelp" 
            placeholder="Enter password"
            required
            formControlName="password"
        >
        <small 
            id="passwordHelp" 
            class="form-text text-muted">
            Enter password to login.
        </small>

        <div *ngIf="loginForm?.controls['password']?.errors && !loginForm?.controls['password']?.pristine" class="alert alert-danger" role="alert">
            Password is invalid.
        </div>
    </div>

    <button 
        type="submit" 
        class="btn btn-primary"
        [disabled]="loginForm?.invalid"
        >
        Submit
    </button>
    <button 
        type="button" 
        class="btn btn-secondary ml-2"
        [routerLink]="['../signup']"
        >
        Signup
    </button>
</form>